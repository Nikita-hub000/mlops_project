[2024-10-24T20:27:44.356+0000] {local_task_job_runner.py:120} INFO - ::group::Pre task execution logs
[2024-10-24T20:27:44.375+0000] {taskinstance.py:2076} INFO - Dependencies all met for dep_context=non-requeueable deps ti=<TaskInstance: Nikita_Lapshin_experiment.train_model manual__2024-10-24T20:26:54.597933+00:00 [queued]>
[2024-10-24T20:27:44.382+0000] {taskinstance.py:2076} INFO - Dependencies all met for dep_context=requeueable deps ti=<TaskInstance: Nikita_Lapshin_experiment.train_model manual__2024-10-24T20:26:54.597933+00:00 [queued]>
[2024-10-24T20:27:44.382+0000] {taskinstance.py:2306} INFO - Starting attempt 1 of 4
[2024-10-24T20:27:44.393+0000] {taskinstance.py:2330} INFO - Executing <Task(PythonOperator): train_model> on 2024-10-24 20:26:54.597933+00:00
[2024-10-24T20:27:44.434+0000] {standard_task_runner.py:64} INFO - Started process 958 to run task
[2024-10-24T20:27:44.439+0000] {standard_task_runner.py:90} INFO - Running: ['***', 'tasks', 'run', 'Nikita_Lapshin_experiment', 'train_model', 'manual__2024-10-24T20:26:54.597933+00:00', '--job-id', '174', '--raw', '--subdir', 'DAGS_FOLDER/HW2.py', '--cfg-path', '/tmp/tmpi93rmurp']
[2024-10-24T20:27:44.442+0000] {standard_task_runner.py:91} INFO - Job 174: Subtask train_model
[2024-10-24T20:27:44.480+0000] {task_command.py:426} INFO - Running <TaskInstance: Nikita_Lapshin_experiment.train_model manual__2024-10-24T20:26:54.597933+00:00 [running]> on host 701639cb5e9f
[2024-10-24T20:27:44.563+0000] {taskinstance.py:2648} INFO - Exporting env vars: AIRFLOW_CTX_DAG_OWNER='Lapshin Nikita' AIRFLOW_CTX_DAG_ID='Nikita_Lapshin_experiment' AIRFLOW_CTX_TASK_ID='train_model' AIRFLOW_CTX_EXECUTION_DATE='2024-10-24T20:26:54.597933+00:00' AIRFLOW_CTX_TRY_NUMBER='1' AIRFLOW_CTX_DAG_RUN_ID='manual__2024-10-24T20:26:54.597933+00:00'
[2024-10-24T20:27:44.564+0000] {taskinstance.py:430} INFO - ::endgroup::
[2024-10-24T20:27:44.595+0000] {s3.py:1422} INFO - Downloading source S3 file from Bucket mlops-3 with path datasets/prepared_data.csv
[2024-10-24T20:27:44.601+0000] {base.py:84} INFO - Using connection ID 's3_connection' for task execution.
[2024-10-24T20:27:44.601+0000] {connection_wrapper.py:388} INFO - AWS Connection (conn_id='s3_connection', conn_type='aws') credentials retrieved from login and password.
[2024-10-24T20:27:50.931+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:27:50 WARNING mlflow.utils.git_utils: Failed to import Git (the Git executable is probably not on your PATH), so Git SHA is not available. Error: Failed to initialize: Bad git executable.
The git executable must be specified in one of the following ways:
    - be included in your $PATH
    - be set via $GIT_PYTHON_GIT_EXECUTABLE
    - explicitly set via git.refresh(<full-path-to-git-executable>)

All git commands will error until this is rectified.

This initial message can be silenced or aggravated in the future by setting the
$GIT_PYTHON_REFRESH environment variable. Use one of the following values:
    - quiet|q|silence|s|silent|none|n|0: for no message or exception
    - warn|w|warning|log|l|1: for a warning message (logging level CRITICAL, displayed by default)
    - error|e|exception|raise|r|2: for a raised exception

Example:
    export GIT_PYTHON_REFRESH=quiet
[2024-10-24T20:28:19.956+0000] {credentials.py:1147} INFO - Found credentials in environment variables.
[2024-10-24T20:28:20.083+0000] {configprovider.py:957} INFO - Found endpoint for s3 via: environment_global.
[2024-10-24T20:30:18.207+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-24T20:30:22.951+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-24T20:30:25.570+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-24T20:30:25.668+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-24T20:30:27.407+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-24T20:30:27.716+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-24T20:30:29.530+0000] {configprovider.py:957} INFO - Found endpoint for s3 via: environment_global.
[2024-10-24T20:31:23.639+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-24T20:31:26.062+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-24T20:31:29.340+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-24T20:31:30.056+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-24T20:31:31.465+0000] {connectionpool.py:331} WARNING - Connection pool is full, discarding connection: storage.yandexcloud.net. Connection pool size: 10
[2024-10-24T20:31:33.299+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:31:33 INFO mlflow.models.evaluation.default_evaluator: Computing model predictions.
[2024-10-24T20:31:34.088+0000] {logging_mixin.py:188} WARNING - /home/***/.local/lib/python3.10/site-packages/sklearn/metrics/_regression.py:492 FutureWarning: 'squared' is deprecated in version 1.4 and will be removed in 1.6. To calculate the root mean squared error, use the function'root_mean_squared_error'.
[2024-10-24T20:31:34.096+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:31:34 INFO mlflow.models.evaluation.default_evaluator: Testing metrics on first row...
[2024-10-24T20:31:34.099+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:31:34 WARNING mlflow.models.evaluation.default_evaluator: SHAP or matplotlib package is not installed, so model explainability insights will not be logged.
[2024-10-24T20:32:42.716+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:32:42 INFO mlflow.tracking._tracking_service.client: üèÉ View run random_forest_run at: http://mlflow-service:5000/#/experiments/363746193131535740/runs/c6f817abeca9405793999187fc3d3a9c.
[2024-10-24T20:32:42.720+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:32:42 INFO mlflow.tracking._tracking_service.client: üß™ View experiment at: http://mlflow-service:5000/#/experiments/363746193131535740.
[2024-10-24T20:32:45.279+0000] {logging_mixin.py:188} WARNING - /home/***/.local/lib/python3.10/site-packages/_distutils_hack/__init__.py:18 UserWarning: Distutils was imported before Setuptools, but importing Setuptools also replaces the `distutils` module in `sys.modules`. This may lead to undesirable behaviors or errors. To avoid these issues, avoid using distutils directly, ensure that setuptools is installed in the traditional way (e.g. not an editable install), and/or make sure that setuptools is always imported before distutils.
[2024-10-24T20:32:45.281+0000] {logging_mixin.py:188} WARNING - /home/***/.local/lib/python3.10/site-packages/_distutils_hack/__init__.py:33 UserWarning: Setuptools is replacing distutils.
[2024-10-24T20:32:53.188+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:32:53 INFO mlflow.models.evaluation.default_evaluator: Computing model predictions.
[2024-10-24T20:32:53.199+0000] {logging_mixin.py:188} WARNING - /home/***/.local/lib/python3.10/site-packages/sklearn/metrics/_regression.py:492 FutureWarning: 'squared' is deprecated in version 1.4 and will be removed in 1.6. To calculate the root mean squared error, use the function'root_mean_squared_error'.
[2024-10-24T20:32:53.202+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:32:53 INFO mlflow.models.evaluation.default_evaluator: Testing metrics on first row...
[2024-10-24T20:32:53.204+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:32:53 WARNING mlflow.models.evaluation.default_evaluator: SHAP or matplotlib package is not installed, so model explainability insights will not be logged.
[2024-10-24T20:32:53.793+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:32:53 INFO mlflow.tracking._tracking_service.client: üèÉ View run linear_regression_run at: http://mlflow-service:5000/#/experiments/363746193131535740/runs/5f701b3dff33401b9f6947c791ab5572.
[2024-10-24T20:32:53.793+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:32:53 INFO mlflow.tracking._tracking_service.client: üß™ View experiment at: http://mlflow-service:5000/#/experiments/363746193131535740.
[2024-10-24T20:32:56.337+0000] {logging_mixin.py:188} WARNING - /home/***/.local/lib/python3.10/site-packages/_distutils_hack/__init__.py:18 UserWarning: Distutils was imported before Setuptools, but importing Setuptools also replaces the `distutils` module in `sys.modules`. This may lead to undesirable behaviors or errors. To avoid these issues, avoid using distutils directly, ensure that setuptools is installed in the traditional way (e.g. not an editable install), and/or make sure that setuptools is always imported before distutils.
[2024-10-24T20:32:56.343+0000] {logging_mixin.py:188} WARNING - /home/***/.local/lib/python3.10/site-packages/_distutils_hack/__init__.py:33 UserWarning: Setuptools is replacing distutils.
[2024-10-24T20:33:14.268+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:33:14 INFO mlflow.models.evaluation.default_evaluator: Computing model predictions.
[2024-10-24T20:33:14.290+0000] {logging_mixin.py:188} WARNING - /home/***/.local/lib/python3.10/site-packages/sklearn/metrics/_regression.py:492 FutureWarning: 'squared' is deprecated in version 1.4 and will be removed in 1.6. To calculate the root mean squared error, use the function'root_mean_squared_error'.
[2024-10-24T20:33:14.293+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:33:14 INFO mlflow.models.evaluation.default_evaluator: Testing metrics on first row...
[2024-10-24T20:33:14.295+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:33:14 WARNING mlflow.models.evaluation.default_evaluator: SHAP or matplotlib package is not installed, so model explainability insights will not be logged.
[2024-10-24T20:33:17.655+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:33:17 INFO mlflow.tracking._tracking_service.client: üèÉ View run decision_tree_run at: http://mlflow-service:5000/#/experiments/363746193131535740/runs/26ac75e425db41978697e9660600d1cc.
[2024-10-24T20:33:17.658+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:33:17 INFO mlflow.tracking._tracking_service.client: üß™ View experiment at: http://mlflow-service:5000/#/experiments/363746193131535740.
[2024-10-24T20:33:17.687+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:33:17 INFO mlflow.tracking._tracking_service.client: üèÉ View run All Models Training at: http://mlflow-service:5000/#/experiments/363746193131535740/runs/f160fa2736f44f30969e57ab8fd06339.
[2024-10-24T20:33:17.688+0000] {logging_mixin.py:188} WARNING - 2024/10/24 20:33:17 INFO mlflow.tracking._tracking_service.client: üß™ View experiment at: http://mlflow-service:5000/#/experiments/363746193131535740.
[2024-10-24T20:33:17.732+0000] {python.py:237} INFO - Done. Returned value was: {'random_forest': {'model_score': 0.9996373142315564}, 'linear_regression': {'model_score': 0.8912486221145098}, 'decision_tree': {'model_score': 1.0}}
[2024-10-24T20:33:17.733+0000] {taskinstance.py:441} INFO - ::group::Post task execution logs
[2024-10-24T20:33:17.816+0000] {taskinstance.py:1206} INFO - Marking task as SUCCESS. dag_id=Nikita_Lapshin_experiment, task_id=train_model, run_id=manual__2024-10-24T20:26:54.597933+00:00, execution_date=20241024T202654, start_date=20241024T202744, end_date=20241024T203317
[2024-10-24T20:33:17.898+0000] {local_task_job_runner.py:243} INFO - Task exited with return code 0
[2024-10-24T20:33:17.949+0000] {taskinstance.py:3503} INFO - 1 downstream tasks scheduled from follow-on schedule check
[2024-10-24T20:33:17.950+0000] {local_task_job_runner.py:222} INFO - ::endgroup::
